version: 2

models:

  - name: dim_motorconfiguratie
    description: "Dimensietabel met unieke motorconfiguraties."
    columns:
      - name: motorconfiguratie_id
        data_tests: [not_null, unique]

  - name: dim_classificatie
    description: "Dimensietabel met voertuigclassificaties."
    columns:
      - name: kenteken
        data_tests:
          - not_null
          - relationships:
              to: ref('md_voertuig')
              field: kenteken

  - name: dim_status
    description: "Dimensietabel met voertuigstatussen."
    columns:
      - name: kenteken
        data_tests:
          - not_null
          - relationships:
              to: ref('md_voertuig')
              field: kenteken

  - name: dim_rdw_referentie
    description: "Dimensietabel met RDW subresource koppelingen."
    columns:
      - name: kenteken
        data_tests:
          - not_null
          - relationships:
              to: ref('md_voertuig')
              field: kenteken

  - name: fact_registratie_events
    description: "Registratiegebeurtenissen zoals eerste toelating en tenaamstellingen."
    columns:
      - name: event_id
        data_tests: [not_null, unique]
      - name: kenteken
        data_tests:
          - not_null
          - relationships:
              to: ref('md_voertuig')
              field: kenteken
      - name: event_datum
        data_tests: [not_null]

  - name: fact_keuring_events
    description: "APK en tachograaf vervaldata als onderhoudsgebeurtenissen."
    columns:
      - name: event_id
        data_tests: [not_null, unique]
      - name: kenteken
        data_tests:
          - not_null
          - relationships:
              to: ref('md_voertuig')
              field: kenteken
      - name: event_datum
        data_tests: [not_null]
